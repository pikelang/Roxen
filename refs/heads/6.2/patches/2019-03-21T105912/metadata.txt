subject: Roxen 6.2: Execute promise callbacks in non-backend thread [WS-406] [WS-408]
from: a2423879df083a71fe3f1938cd50bda1f9b41bdd
to: 9f5363f3af36dc649b33adacc3691fc52cfa85b6
originator: Marcus Wellhardh
depends: 2019-03-21T095758
restart: true

• Concurrent.Promise.HandlerBackend: Fix timeout parameter.

• Concurrent.Promise: Use a custom backend for calling callbacks.

Adds a minimal HandlerBackend class that only implements call_out().

This fixes the issue with the overloaded call_callback() not
clearing the timeout callback.

Fixes some of [WS-404].

• Concurrent.Promise: Keep track of the initiator.

Fixes [WS-408].

• PikeConcurrent: Make the original Concurrent module available.

• Loader: Override Concurrent.Promise.

Use a custom Concurrent.Promise that calls callbacks from
handler threads.

NB: Requires a Pike with the changes from [PIKE-160] to
    have any effect.